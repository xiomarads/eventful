
<% gmaps = GoogleMapsService::Client.new %>
<% results = gmaps.geocode("#{@event.location}") %>


<!-- <% if results.count > 0 %> -->
    <div class="container" id="map" style="height:400px; background:#f5f5f5;" data-lng="<%= results[0][:geometry][:location][:lng] %>" data-lat="<%= results[0][:geometry][:location][:lat] %>">
    </div>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAWpJMCutqieXGQo5WyxIyKIFVwzMwbFtA&callback=initMap">
    </script>

    <script>
            function initMap() {
              var lat = $('#map').data('lat');
              var lng = $('#map').data('lng');
              var uluru = {lat: parseFloat(lat), lng: parseFloat(lng)};
              var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 15,
                center: uluru
              });
              var marker = new google.maps.Marker({
                position: uluru,
                map: map
              });
            }
    </script>
<!-- <% end %> -->
</div>
